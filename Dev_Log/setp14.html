<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TelpCamp ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆã®è¨˜éŒ² - Step 14</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
        }

        h1,
        h2,
        h3 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        code {
            background-color: #ecf0f1;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
        }

        pre {
            background-color: #2c3e50;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }

        pre code {
            background-color: transparent;
            padding: 0;
        }

        .step {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .concept {
            background-color: #e8f6f3;
            border-left: 5px solid #1abc9c;
            padding: 15px;
            margin: 20px 0;
        }

        li {
            margin-bottom: 10px;
        }
    </style>
</head>

<body>

    <h1>TelpCamp ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆã®è¨˜éŒ²</h1>

    <div class="step">
        <h2>å­¦ç¿’ã®ç›®çš„</h2>
        <p>
            CRUDæ©Ÿèƒ½ã®ã€ŒU (Update)ã€ã«å¯¾å¿œã™ã‚‹ã€æ—¢å­˜ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç·¨é›†ã™ã‚‹ãŸã‚ã®ãƒ•ã‚©ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‚’ä½œæˆã—ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’æ•´ãˆã¾ã™ã€‚
        </p>
        <ul>
            <li>æ–°è¦ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ã‚’ãƒ™ãƒ¼ã‚¹ã«ã€ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ ã‚’ä½œæˆã™ã‚‹æ–¹æ³•ã‚’å­¦ã¶ã€‚</li>
            <li>EJSã‚’ä½¿ã„ã€ãƒ•ã‚©ãƒ¼ãƒ ã®å„å…¥åŠ›æ¬„ã«æ—¢å­˜ã®ãƒ‡ãƒ¼ã‚¿ã‚’åˆæœŸå€¤ã¨ã—ã¦è¡¨ç¤ºï¼ˆãƒ—ãƒªã‚»ãƒƒãƒˆï¼‰ã™ã‚‹æ–¹æ³•ã‚’ç¿’å¾—ã™ã‚‹ã€‚</li>
            <li><code>method-override</code>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’åˆ©ç”¨ã—ã¦ã€HTMLãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰<code>PUT</code>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹æ–¹æ³•ã‚’ç†è§£ã™ã‚‹ã€‚</li>
        </ul>
    </div>

    <div class="step">
        <h2>ã‚¹ãƒ†ãƒƒãƒ—14: ç·¨é›†ãƒšãƒ¼ã‚¸ã®ä½œæˆã¨ãƒ‡ã‚¶ã‚¤ãƒ³</h2>
        <p>ã‚­ãƒ£ãƒ³ãƒ—å ´ã®æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã™ã‚‹ãŸã‚ã®ç·¨é›†ãƒšãƒ¼ã‚¸ï¼ˆ<code>edit.ejs</code>ï¼‰ã®è¦‹ãŸç›®ã‚’æ•´ãˆã¾ã—ãŸã€‚ã“ã®ãƒšãƒ¼ã‚¸ã¯æ–°è¦ç™»éŒ²ãƒšãƒ¼ã‚¸ã¨ä¼¼ã¦ã„ã¾ã™ãŒã€ã„ãã¤ã‹ã®é‡è¦ãªé•ã„ãŒã‚ã‚Šã¾ã™ã€‚</p>
        <ol>
            <li>
                <strong>ç·¨é›†ãƒšãƒ¼ã‚¸ã®ä½œæˆ (<code>views/campgrounds/edit.ejs</code>):</strong>
                <p><code>new.ejs</code>ã‚’ãƒ™ãƒ¼ã‚¹ã«ã€ç·¨é›†ç”¨ã®<code>edit.ejs</code>ã‚’ä½œæˆãƒ»ä¿®æ­£ã—ã¾ã—ãŸã€‚</p>
                <pre><code>&lt;% layout('layouts/boilerplate') %&gt;

&lt;div class="row"&gt;
    &lt;h1 class="text-center"&gt;ã‚­ãƒ£ãƒ³ãƒ—å ´ã‚’ç·¨é›†&lt;/h1&gt;
    &lt;div class="col-6 offset-3"&gt;
        &lt;form action="/campgrounds/&lt;%= campground._id %&gt;?_method=PUT" method="POST"&gt;
            &lt;div class="mb-3"&gt;
                &lt;label class="form-label" for="name"&gt;ã‚­ãƒ£ãƒ³ãƒ—å ´å&lt;/label&gt;
                &lt;input class="form-control" type="text" id="name" name="campground[name]" value="&lt;%= campground.name %&gt;"&gt;
            &lt;/div&gt;
            &lt;div class="mb-3"&gt;
                &lt;label class="form-label" for="description"&gt;èª¬æ˜&lt;/label&gt;
                &lt;textarea class="form-control" id="description" name="campground[description]" rows="3"&gt;&lt;%= campground.description %&gt;&lt;/textarea&gt;
            &lt;/div&gt;
            &lt;!-- ... ä»–ã®å…¥åŠ›é …ç›® ... --&gt;
            &lt;div class="mb-3"&gt;
                &lt;button class="btn btn-info"&gt;æ›´æ–°ã™ã‚‹&lt;/button&gt;
            &lt;/div&gt;
        &lt;/form&gt;
        &lt;a href="/campgrounds/&lt;%= campground._id %&gt;"&gt;ã‚­ãƒ£ãƒ³ã‚»ãƒ«&lt;/a&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
            </li>
            <li>
                <div class="concept">
                    <h4>ğŸ’¡ æ–°è¦ç™»éŒ²ãƒšãƒ¼ã‚¸ã¨ã®ä¸»ãªé•ã„</h4>
                    <p>ç·¨é›†ãƒšãƒ¼ã‚¸ã‚’å®Ÿè£…ã™ã‚‹ä¸Šã§ã®é‡è¦ãªãƒã‚¤ãƒ³ãƒˆã¯ä»¥ä¸‹ã®3ã¤ã§ã™ã€‚</p>
                    <ol>
                        <li>
                            <strong>ãƒ•ã‚©ãƒ¼ãƒ ã®é€ä¿¡å…ˆ (<code>action</code>å±æ€§):</strong>
                            <p>
                                <code>action="/campgrounds/&lt;%= campground._id %&gt;?_method=PUT"</code>ã¨è¨­å®šã—ã¾ã—ãŸã€‚
                                ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ‡ãƒ¼ã‚¿ã¯ç‰¹å®šã®IDã‚’æŒã¤ã‚­ãƒ£ãƒ³ãƒ—å ´ã®æ›´æ–°ãƒ«ãƒ¼ãƒˆã«é€ä¿¡ã•ã‚Œã¾ã™ã€‚
                                <code>?_method=PUT</code>ã¨ã„ã†ã‚¯ã‚¨ãƒªæ–‡å­—åˆ—ã¯ã€<code>method-override</code>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã‚ˆã£ã¦è§£é‡ˆã•ã‚Œã€ã“ã®<code>POST</code>ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒã‚µãƒ¼ãƒãƒ¼å´ã§<code>PUT</code>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
                            </p>
                        </li>
                        <li>
                            <strong>æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã®è¡¨ç¤º (<code>value</code>å±æ€§):</strong>
                            <p>
                                å„<code>&lt;input&gt;</code>ã‚¿ã‚°ã«<code>value="&lt;%= campground.name %&gt;"</code>ã®ã‚ˆã†ã«<code>value</code>å±æ€§ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚
                                ã“ã‚Œã«ã‚ˆã‚Šã€ãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚ŒãŸæ™‚ç‚¹ã§ã€ç·¨é›†å¯¾è±¡ã®ãƒ‡ãƒ¼ã‚¿ãŒãƒ•ã‚©ãƒ¼ãƒ ã«è‡ªå‹•çš„ã«å…¥åŠ›ã•ã‚Œã¾ã™ã€‚
                                <code>&lt;textarea&gt;</code>ã®å ´åˆã¯ã€<code>value</code>å±æ€§ã§ã¯ãªãã€é–‹å§‹ã‚¿ã‚°ã¨çµ‚äº†ã‚¿ã‚°ã®é–“ã«åˆæœŸå€¤ã‚’è¨˜è¿°ã—ã¾ã™ã€‚
                            </p>
                        </li>
                        <li>
                            <strong>UIã®èª¿æ•´:</strong>
                            <p>ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ã€Œç™»éŒ²ã™ã‚‹ã€ã‹ã‚‰ã€Œæ›´æ–°ã™ã‚‹ã€ã«å¤‰æ›´ã—ã€è‰²ã‚‚<code>btn-success</code>ï¼ˆç·‘ï¼‰ã‹ã‚‰<code>btn-info</code>ï¼ˆé’ï¼‰ã«å¤‰æ›´ã—ã¾ã—ãŸã€‚ã¾ãŸã€ã€Œã‚­ãƒ£ãƒ³ã‚»ãƒ«ã€æ™‚ã®æˆ»ã‚Šå…ˆã‚’ã€ä¸€è¦§ãƒšãƒ¼ã‚¸ã§ã¯ãªãç·¨é›†ä¸­ã®ã‚­ãƒ£ãƒ³ãƒ—å ´ã®è©³ç´°ãƒšãƒ¼ã‚¸ã«è¨­å®šã—ã¾ã—ãŸã€‚
                            </p>
                        </li>
                    </ol>
                </div>
            </li>
        </ol>
    </div>

</body>

</html>